<div [@navCollapse]="isNavbarCollapsed" [ngClass]='{ "adm-navbar-collapsed": isNavbarCollapsed }'
     class="main-nav admin-navbar">
  <nav class="navbar navbar-expand-md">
    <button (click)='toggle()' [attr.aria-expanded]='isExpanded' aria-controls="navbarText" aria-label="Toggle navigation"
            class="navbar-toggler"
            data-target=".navbar-collapse" data-toggle="collapse" type="button">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class='navbar-header text-center'>
      <a [routerLink]='["/"]' class="navbar-brand">
        <img *ngIf="!isNavbarCollapsed" alt="Logo" height="44" src="/assets/images/logos/branch-logo.png" width="138">
        <img *ngIf="isNavbarCollapsed" alt="Logo" height="44" src="/assets/images/logos/branch-logo-sm.png" width="45">
      </a>
    </div>
    <div class="navbar-profile text-center">
      <div class="collapse-btn text-right">
        <i (click)="navbarCollapseToggle($event)" class="icon adm-clp-arrow-icon"></i>
      </div>
      <div class="profile-photo d-flex justify-content-center">
        <logo-container [url]="logoUrl" class="user-img" logo-class="full-height">
          <div class="admin-photo">
            <span>{{fullName[0].toUpperCase()}}</span>
          </div>
        </logo-container>
      </div>
      <div *ngIf="!isNavbarCollapsed" class="dropdown darkness profile-dropdown" ngbDropdown placement="bottom-left">
        <button aria-expanded="false" aria-haspopup="true" class="btn dropdown-toggle" data-toggle="dropdown"
                id="profileDropdownMenu" ngbDropdownToggle type="button">
          <div class="button-text">
            <div class="user-name text-crpr">{{fullName}}</div>
            <div class="user-role text-crpr">{{roleName}}</div>
          </div>
        </button>
        <div aria-labelledby="profileDropdownMenu" class="dropdown-menu" ngbDropdownMenu>
          <a (click)="onLogout();" class="dropdown-item d-flex justify-content-between" href="javascript:void(0);">
            Sign out<i class="dnm-icon dnm-ua-logout"></i>
          </a>
        </div>
      </div>
      <div *ngIf="isNavbarCollapsed" class="dropdown darkness profile-dropdown" placement="bottom-left">
        <div class="user-name">{{fullName}}</div>
      </div>
    </div>
    <div class='clearfix'></div>
    <div [ngClass]='{ "in": isExpanded }' class='collapse navbar-collapse show admin-f-list'>
      <ul *ngIf="!isNavbarCollapsed" class='nav navbar-nav text-uppercase'>
        <li [routerLinkActiveOptions]='{ exact: true }' [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin"]'>
            <span class='navbar-icon dashboard-icon'></span>
            <span class="nav-item-text">Dashboard</span>
          </a>
        </li>
        <li *ngIf="accessPermission.canManageBranches" [routerLinkActiveOptions]='{ exact: true }'
            [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/branches"]'>
            <span class='navbar-icon branches-icon'></span>
            <span class="nav-item-text">Branches</span>
          </a>
        </li>
        <li *ngIf="accessPermission.canManageRoles || accessPermission.canManageUsers" [routerLinkActiveOptions]='{ exact: true }'
            [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/users"]'>
            <span class='navbar-icon users-icon'></span>
            <span class="nav-item-text">Users</span>
          </a>
        </li>
        <li *ngIf="accessPermission.canManageSuppliers" [routerLinkActiveOptions]='{ exact: true }'
            [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/suppliers"]'>
            <span class='navbar-icon suppliers-icon'></span>
            <span class="nav-item-text">Suppliers</span>
          </a>
        </li>
        <li [routerLinkActiveOptions]='{ exact: true }' [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/equipment"]'>
            <span class='navbar-icon equipment-icon'></span>
            <span class="nav-item-text">Equipment</span>
          </a>
        </li>
        <li [routerLinkActiveOptions]='{ exact: true }' [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/services"]'>
            <span class='navbar-icon services-icon'></span>
            <span class="nav-item-text">Services</span>
          </a>
        </li>
        <li *ngIf="accessPermission.canManageSettings" [routerLinkActiveOptions]='{ exact: true }'
            [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/settings"]'>
            <span class='navbar-icon settings-icon'></span>
            <span class="nav-item-text">Settings</span>
          </a>
        </li>
      </ul>
      <ul *ngIf="isNavbarCollapsed" class='nav navbar-nav navbar-collapsed text-uppercase'>
        <li [routerLinkActiveOptions]='{ exact: true }' [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin"]'>
            <span class='navbar-icon dashboard-icon'></span>
          </a>
        </li>
        <li [routerLinkActiveOptions]='{ exact: true }' [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/branches"]'>
            <span class='navbar-icon branches-icon'></span>
          </a>
        </li>
        <li [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/users"]'>
            <span class='navbar-icon users-icon'></span>
          </a>
        </li>
        <li [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/suppliers"]'>
            <span class='navbar-icon suppliers-nav-icon'></span>
          </a>
        </li>
        <li [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/equipment"]'>
            <span class='navbar-icon equipment-icon'></span>
          </a>
        </li>
        <li [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/services"]'>
            <span class='navbar-icon services-icon'></span>
          </a>
        </li>
        <li [routerLinkActiveOptions]='{ exact: true }' [routerLinkActive]='["link-active"]'>
          <a [routerLink]='["/admin/settings"]'>
            <span class='navbar-icon settings-icon'></span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</div>
