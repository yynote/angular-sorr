<div class="container-fluid add-node">
  <div class="row none-margin-hr">
    <div class="col-12 none-padding">
      <div class="d-flex justify-content-between">
        <span class="add-node-header">Add New Node</span>
        <div class="back-button-container">
          <back-button></back-button>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-12 col-xl-6">
    <form [formGroup]="form">

      <div class="input-row">
        <div class="text-uppercase field-name">Node Name</div>
        <div *ngIf="form.controls.name as nameCtrl" class="field-value">
          <div [ngClass]="{'dnm-invalid-inp': (nameCtrl.touched || showAllErrors) && nameCtrl.invalid}">
            <input [formControl]="nameCtrl" class="form-control req-frm-fld" maxlength="256" placeholder="Type here" type="text"/>
          </div>
          <small *ngIf="nameCtrl.invalid && (nameCtrl.touched || showAllErrors) && nameCtrl.errors.required"
                 class="alert-danger">
            Node name is required
          </small>
        </div>
      </div>
      <div class="input-row">
        <div class="text-uppercase  field-name">Supply Type</div>
        <div *ngIf="form.controls.supplyType as supplyTypeCtrl" class="field-value">
          <div [ngClass]="{'dnm-invalid-inp': (supplyTypeCtrl.touched || showAllErrors) && supplyTypeCtrl.invalid}">
            <select [formControl]="supplyTypeCtrl" class="form-control req-frm-fld">
              <option [ngValue]="-1">Select supply type</option>
              <option *ngFor="let item of supplyTypes" [ngValue]="item.value">{{item.label}}</option>
            </select>
          </div>
          <small
            *ngIf="supplyTypeCtrl.invalid && (supplyTypeCtrl.touched || showAllErrors) && supplyTypeCtrl.errors.min"
            class="alert-danger">
            Supply type is required
          </small>
        </div>
      </div>
      <div class="input-row">
        <div class="text-uppercase field-name">Supply To</div>
        <div class="field-value">
          <select [formControl]="form.controls.supplyTo" class="form-control">
            <option [ngValue]="null">Select supply</option>
            <option *ngFor="let item of supplyToOptions$ | async" [ngValue]="item.value">{{item.label}}</option>
          </select>
        </div>
      </div>
      <div class="input-row">
        <div class="text-uppercase field-name">Location Type</div>
        <div class="field-value">
          <select [formControl]="form.controls.locationType" class="form-control">
            <option [ngValue]="null">Select location type</option>
            <option *ngFor="let item of locationTypeOptions$ | async" [ngValue]="item.value">{{item.label}}</option>
          </select>
        </div>
      </div>
      <div class="input-row row-description">
        <div class="text-uppercase field-name text-form-field">Description</div>
        <div class="field-value">
          <textarea [formControl]="form.controls.description" class="form-control" maxlength="256"
                    placeholder="Type here"></textarea>
        </div>
      </div>
      <div class="row none-margin-hr">
        <div class="col-12 none-padding footer-btns d-flex justify-content-end">
          <button (click)="onCancel()" class="dnm-btn dnm-btn-cancel text-uppercase" type="button">Cancel</button>
          <button (click)="onSave()" class="dnm-btn dnm-btn-primary text-uppercase" type="button">Save</button>
        </div>
      </div>
    </form>
  </div>
</div>
